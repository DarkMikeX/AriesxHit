<!DOCTYPE html>
<html>
<head>
    <title>AriesxHit Test Page</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ccc; border-radius: 5px; }
        .success { border-color: #22c55e; background: #f0fdf4; }
        .error { border-color: #ef4444; background: #fef2f2; }
        button { padding: 10px 20px; margin: 5px; cursor: pointer; }
        .log { background: #f8f9fa; padding: 10px; margin: 5px 0; border-radius: 3px; font-family: monospace; }
    </style>
</head>
<body>
    <h1>AriesxHit Extension Test</h1>

    <div class="test-section success">
        <h3>‚úÖ Extension Status</h3>
        <div id="status">Loading...</div>
    </div>

    <div class="test-section">
        <h3>üß™ Manual Tests</h3>
        <button onclick="testAutoFill()">Test Auto-Fill</button>
        <button onclick="testDiagnostics()">Run Diagnostics</button>
        <button onclick="test3DSBypass()">Test 3DS Bypass</button>
        <button onclick="clearLogs()">Clear Logs</button>
    </div>

    <div class="test-section">
        <h3>üìú Console Logs</h3>
        <div id="logs"></div>
    </div>

    <script>
        let logContainer = document.getElementById('logs');

        function addLog(message, type = 'info') {
            const log = document.createElement('div');
            log.className = 'log';
            log.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            logContainer.appendChild(log);
            logContainer.scrollTop = logContainer.scrollHeight;
            console.log(message);
        }

        function updateStatus() {
            const status = document.getElementById('status');
            const checks = [
                { name: '3DS Bypass', check: !!window.__ARIES_3DS_BYPASS__ },
                { name: 'Auto-fill', check: typeof window.autoFillCard === 'function' },
                { name: 'Core Script', check: !!window.__ARIES_AUTOHIT__ },
                { name: 'Panel UI', check: !!window.__ARIESXHIT_UI__ },
                { name: 'Diagnostics', check: typeof window.ariesxhitDiagnostics === 'function' }
            ];

            status.innerHTML = checks.map(c =>
                `<div>${c.check ? '‚úÖ' : '‚ùå'} ${c.name}</div>`
            ).join('');
        }

        function testAutoFill() {
            addLog('Testing auto-fill functionality...');
            if (typeof window.autoFillCard === 'function') {
                const testCard = {
                    number: '4242424242424242',
                    month: '12',
                    year: '28',
                    cvv: '123'
                };
                window.autoFillCard(testCard);
                addLog('‚úÖ Auto-fill executed with test card');
            } else {
                addLog('‚ùå Auto-fill function not available');
            }
        }

        function testDiagnostics() {
            addLog('Running diagnostics...');
            if (window.ariesxhitDiagnostics) {
                const result = window.ariesxhitDiagnostics();
                addLog('‚úÖ Diagnostics completed');
                console.log('Diagnostics result:', result);
            } else {
                addLog('‚ùå Diagnostics function not available');
            }
        }

        function test3DSBypass() {
            addLog('Testing 3DS bypass...');
            if (window.aries3DSBypass) {
                const test = window.aries3DSBypass.testBypass('test data');
                addLog('‚úÖ 3DS bypass test completed');
                console.log('3DS test result:', test);
            } else {
                addLog('‚ùå 3DS bypass not available');
            }
        }

        function clearLogs() {
            logContainer.innerHTML = '';
        }

        // Check status on load
        setTimeout(updateStatus, 1000);
        setTimeout(updateStatus, 3000);

        // Periodic status updates
        setInterval(updateStatus, 5000);

        addLog('Test page loaded - extension should initialize automatically');
    </script>
</body>
</html>